/**
 * Every Layout - Layout-only CSS primitives
 * https://every-layout.dev/
 * 
 * A layout-focused design system that provides composable CSS primitives
 * without touching colors, typography, or visual design.
 * 
 * Philosophy: "CSS of suggestion" - let the browser decide when to wrap/reflow
 * based on available space, rather than forcing layouts with media queries.
 */

/* ============================================
   STACK - Vertical spacing between elements
   ============================================ */
.stack {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}

.stack > * {
  margin-block: 0;
}

.stack > * + * {
  margin-block-start: var(--space, 1.5rem);
}

/* ============================================
   BOX - Padding container
   ============================================ */
.box {
  padding: var(--padding, 1rem);
}

/* ============================================
   CENTER - Horizontally center with max-width
   ============================================ */
.center {
  box-sizing: content-box;
  margin-inline: auto;
  max-inline-size: var(--measure, 65ch);
  padding-inline: var(--center-padding, 1rem);
}

/* ============================================
   CLUSTER - Horizontal grouping with wrapping
   ============================================ */
.cluster {
  display: flex;
  flex-wrap: wrap;
  gap: var(--cluster-gap, 1rem);
  justify-content: var(--cluster-justify, flex-start);
  align-items: var(--cluster-align, center);
}

/* ============================================
   SIDEBAR - Two-column with one fixed-width side
   ============================================ */
.sidebar {
  display: flex;
  flex-wrap: wrap;
  gap: var(--sidebar-gap, 1rem);
}

.sidebar > :first-child {
  flex-basis: var(--sidebar-width, 20rem);
  flex-grow: 1;
}

.sidebar > :last-child {
  flex-basis: 0;
  flex-grow: 999;
  min-width: var(--sidebar-content-min-width, 50%);
}

/* ============================================
   SWITCHER - Flexbox that switches from horizontal to vertical at breakpoint
   ============================================ */
.switcher {
  display: flex;
  flex-wrap: wrap;
  gap: var(--switcher-gap, 1rem);
}

.switcher > * {
  flex-basis: calc((var(--switcher-threshold, 30rem) - 100%) * 999);
  flex-grow: 1;
}

.switcher > :nth-last-child(n + 5),
.switcher > :nth-last-child(n + 5) ~ * {
  flex-basis: 100%;
}

/* ============================================
   COVER - Vertically centered content with header/footer pinned
   ============================================ */
.cover {
  display: flex;
  flex-direction: column;
  min-block-size: var(--cover-min-height, 100vh);
  padding: var(--cover-padding, 1rem);
}

.cover > :first-child:not(.cover__main) {
  margin-block-end: auto;
}

.cover > :last-child:not(.cover__main) {
  margin-block-start: auto;
}

.cover > .cover__main {
  margin-block: auto;
}

/* ============================================
   GRID - CSS Grid with auto-fit/auto-fill
   ============================================ */
.grid {
  display: grid;
  gap: var(--grid-gap, 1rem);
  grid-template-columns: repeat(
    var(--grid-columns, auto-fit),
    minmax(var(--grid-min, 250px), 1fr)
  );
}

/* ============================================
   FRAME - Aspect-ratio container (video, images)
   ============================================ */
.frame {
  aspect-ratio: var(--frame-ratio, 16 / 9);
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

.frame > img,
.frame > video,
.frame > iframe,
.frame > svg {
  inline-size: 100%;
  block-size: 100%;
  object-fit: cover;
}

/* ============================================
   REEL - Horizontal scrolling row
   ============================================ */
.reel {
  display: flex;
  block-size: auto;
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-color: var(--reel-scrollbar-thumb, var(--geist-accents-3)) var(--reel-scrollbar-track, transparent);
}

.reel::-webkit-scrollbar {
  block-size: var(--reel-scrollbar-size, 1rem);
}

.reel::-webkit-scrollbar-track {
  background-color: var(--reel-scrollbar-track, transparent);
}

.reel::-webkit-scrollbar-thumb {
  background-color: var(--reel-scrollbar-thumb, var(--geist-accents-3));
  border-radius: var(--reel-scrollbar-radius, 0.5rem);
}

.reel > * {
  flex: 0 0 var(--reel-item-width, auto);
}

.reel > img {
  block-size: 100%;
  flex-basis: auto;
  width: auto;
}

.reel > * + * {
  margin-inline-start: var(--reel-gap, 1rem);
}

/* ============================================
   IMPOSTER - Absolute positioning overlay
   ============================================ */
.imposter {
  position: absolute;
  inset-block-start: 50%;
  inset-inline-start: 50%;
  transform: translate(-50%, -50%);
}

.imposter[data-contained] {
  position: absolute;
  max-block-size: 100%;
  max-inline-size: 100%;
  overflow: auto;
}

